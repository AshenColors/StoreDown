{"version":3,"sources":["webpack:///./src/views/List.vue?5d54","webpack:///src/views/List.vue","webpack:///./src/views/List.vue?62b2","webpack:///./src/views/List.vue","webpack:///./src/components/List.vue?ef0d","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?c0ec","webpack:///./src/components/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","headers","loadData","rowClick","staticRenderFns","components","List","data","loadHeader","methods","Database","Config","getConfigObject","then","config","dataDefinition","forEach","group","fields","item","hideInList","push","text","displayName","value","name","align","sortable","catch","error","status","$toasted","info","skip","limit","Promise","resolve","reject","Error","getAllItems","props","$router","_id","component","VContainer","VFlex","VLayout","pagination","rows","loading","total_rows","on","$event","scopedSlots","_u","key","fn","proxy","ListColumnTypes","Array","Function","watch","getData","deep","to","from","start","page","rowsPerPage","VAlert","VDataTable"],"mappings":"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","file":"js/chunk-a469a862.5445c752.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-lg\":\"\",\"fluid\":\"\"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('h4',{staticClass:\"display-1\"},[_vm._v(\"Item list\")])])],1),_c('List',{attrs:{\"headers\":_vm.headers,\"loadData\":_vm.loadData,\"rowClick\":_vm.rowClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-container grid-list-lg fluid>\n  <v-layout>\n    <v-flex xs6>\n      <h4 class=\"display-1\">Item list</h4>\n    </v-flex>\n  </v-layout>\n  <!-- TODO QR code link generator -->\n  <List :headers=\"headers\" :loadData=\"loadData\" :rowClick=\"rowClick\" />\n</v-container>\n</template>\n\n<script>\nimport {\n  ConfigService\n} from '../services/Config.js'\nimport DatabaseService from '../services/Database.js'\nimport List from '../components/List'\n\nexport default {\n  components: {\n    List\n  },\n  data: () => ({\n    headers: []\n  }),\n  mounted () {\n    this.loadHeader()// Don't need to reload with route change\n  },\n  methods: {\n    /**\n     * Loads headers into this.headers\n     */\n    loadHeader: function () {\n      if (!DatabaseService()) {\n        return\n      }\n\n      // Get config and headers\n      ConfigService.getConfigObject().then((config) => {\n        config.dataDefinition.forEach((group) => {\n          group.fields.forEach((item) => {\n            if (item.hideInList) { return }\n\n            this.headers.push({\n              text: item.displayName,\n              value: item.name,\n              align: 'left',\n              item: item, // So you can access all the parameters. Above are given in the data table support format.\n              sortable: false\n            })\n          })\n        })\n      }).catch((error) => {\n        if (error.status === 404) {} else {\n          this.$toasted.info(`Error ${error}`)\n        }\n      })\n    },\n    /**\n     * Load data\n     * @param  {Number} [skip=0]    - start seek. Number of items to skip\n     * @param  {Number} [limit=100] - Number of items to pull\n     * @return {Promise}            - When resolved, return database data\n     */\n    loadData: function (skip = 0, limit = 100) {\n      return new Promise((resolve, reject) => {\n        if (!DatabaseService()) {\n          return reject(new Error('Database is not setup'))\n        }\n\n        // Get items\n        DatabaseService().getAllItems({ skip, limit }).then((data) => {\n          return resolve(data) // important we save an original copy. So we dont need to load it again. Espicially in tree view.\n        })\n      })\n    },\n    /**\n     * Hande logic for when a row is clicked\n     * @param  {[type]} props  [description]\n     */\n    rowClick: function (props) {\n      return this.$router.push(`/entry/${props.item._id}`)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=9d5c0484&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VFlex,VLayout})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"pagination\":_vm.pagination,\"items\":_vm.data.rows,\"loading\":_vm.loading,\"total-items\":_vm.data.total_rows,\"rows-per-page-items\":[10,50,100,1000]},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('ListColumnTypes',{attrs:{\"props\":props,\"headers\":_vm.headers,\"rowClick\":_vm.rowClick}})]}},{key:\"no-data\",fn:function(){return [_c('v-alert',{attrs:{\"value\":!_vm.loading,\"color\":\"error\"}},[_vm._v(\"\\n          No data was found.\\n        \")])]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-layout>\n  <v-flex xs12>\n    <v-data-table :headers=\"headers\" :pagination.sync=\"pagination\" :items=\"data.rows\" :loading=\"loading\" :total-items=\"data.total_rows\" :rows-per-page-items=\"[10,50,100,1000]\">\n      <template v-slot:items=\"props\">\n        <ListColumnTypes :props=\"props\" :headers=\"headers\" :rowClick=\"rowClick\" />\n      </template>\n\n      <template v-slot:no-data>\n        <v-alert :value=\"!loading\" color=\"error\">\n          No data was found.\n        </v-alert>\n      </template>\n    </v-data-table>\n  </v-flex>\n</v-layout>\n</template>\n\n<script>\nimport ListColumnTypes from '../components/ListColumnTypes'\n\nexport default {\n  components: {\n    ListColumnTypes\n  },\n  props: { // Example usage <List :headers=\"headers\" :loadData=\"loadData\" :rowClick=\"rowClick\" />\n    headers: Array,\n    rowClick: Function,\n    loadData: Function\n  },\n  watch: {\n    pagination: {\n      handler () {\n        this.getData()\n      },\n      deep: true\n    },\n    '$route' (to, from) {\n      this.getData()\n    }\n  },\n  data: () => ({\n    pagination: {},\n    loading: false,\n    data: {}\n  }),\n  // mounted () {\n  //   //Commented out. Pagination handler was calling getData\n  //   this.getData()\n  // },\n  methods: {\n    /**\n     * Calls loadData and handles pagination parameters and loading bar\n     */\n    getData: function () {\n      this.loading = true\n      this.data.rows = []\n      let start = (this.pagination.page - 1) * this.pagination.rowsPerPage\n\n      this.loadData(start, this.pagination.rowsPerPage).then((data) => {\n        this.data = data\n        this.loading = false\n      }).catch((error) => {\n        if (error.status === 404) {} else {\n          this.$toasted.info(`Error ${error}`)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=324ee1c8&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VDataTable,VFlex,VLayout})\n"],"sourceRoot":""}